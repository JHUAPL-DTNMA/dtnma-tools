# BP AGENT ADM Test Cases
#
# Assume nm_mgr is on ipn:1.1
# Assume nm_agent is on ipn:1.2

###############################################################################
# TC 1 Exercise BP Reporting
###############################################################################

#------------------------------------------------------------------------------
# Step 1.1: Generate the BP Full Report.
#------------------------------------------------------------------------------
#
# ARI: ari:/IANA:amp.agent/Ctrl.gen_rpts([ari:/IANA:dtn.bp_agent/Rptt.full_report()],[])
#
#------------------------------------------------------------------------------
c1154105050225238127456167656e744449414e4100
WAIT 1

#------------------------------------------------------------------------------
# Step 1.2: Verify report correctly received.
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# Step 1.3: Request an endpoint report for ipn:1.1
#------------------------------------------------------------------------------
#
# ARI: ari:/IANA:amp.agent/Ctrl.gen_rpts([ari:/IANA:dtn.bp_agent/Rptt.endpoint_report(ipn:1.1)],[])
#
#------------------------------------------------------------------------------
c11541050502252381c7182d41010501126769706e3a312e3100
WAIT 5


#------------------------------------------------------------------------------
# Step 1.4: Verify a single endpoint report received.
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# Step 1.5: Request an endpoint report for endpoints ipn:1.0, ipn:1.1, ipn:1.2
#------------------------------------------------------------------------------
#
# ARI: ari:/IANA:amp.agent/Ctrl.gen_rpts([ari:/IANA:dtn.bp_agent/Rptt.endpoint_report(ipn:1.0), 
#          ari:/IANA:dtn.bp_agent/Rptt.endpoint_report(ipn:1.1), 
#          ari:/IANA:dtn.bp_agent/Rptt.endpoint_report(ipn:1.2)], [])
#
#------------------------------------------------------------------------------
c11541050502252383c7182d41010501126769706e3a312e30c7182d41010501126769706e3a312e31c7182d41010501126769706e3a312e3200
WAIT 5

#------------------------------------------------------------------------------
# Step 1.6: Verify 3 endpoint reports received.
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# Step 1.7: Generate the BP Full Report.
#------------------------------------------------------------------------------
#
# ARI: ari:/IANA:amp.agent/Ctrl.gen_rpts([ari:/IANA:dtn.bp_agent/Rptt.full_report()],[])
#
#------------------------------------------------------------------------------
c1154105050225238127456167656e744449414e4100
WAIT 1

#------------------------------------------------------------------------------
# Step 1.8: Reset BP agent counts.
#------------------------------------------------------------------------------
#
# ARI: ari:/IANA:dtn.bp_agent/Ctrl.reset_all_counts()
#
#------------------------------------------------------------------------------
8118294100
WAIT 1

#------------------------------------------------------------------------------
# Step 1.9: Generate the BP Full Report.
#------------------------------------------------------------------------------
#
# ARI: ari:/IANA:amp.agent/Ctrl.gen_rpts([ari:/IANA:dtn.bp_agent/Rptt.full_report()],[])
#
#------------------------------------------------------------------------------
c1154105050225238127456167656e744449414e4100
WAIT 1

#------------------------------------------------------------------------------
# Step 1.10: Verify counts have reduced as a result of step 1.8.
#------------------------------------------------------------------------------